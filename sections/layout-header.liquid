<!-- Apple-style header -->
<div class="header-gradient">
  <div class="container">
    <div class="h-12 sm:h-14 lg:h-16 flex items-center">
      <!-- Logo (always on left) -->
      <a href="{{ routes.root_url }}" class="mr-6 lg:mr-8">
        {% if section.settings.logo %}
          {%- assign logo_widths = "80, 120, 160, 200, 240, 320" | split: "," -%}
          <img
            srcset="{% for width in logo_widths %}{{ section.settings.logo | image_url: width: width }} {{ width }}w,{% endfor %}"
            src="{{ section.settings.logo | image_url: width: 160 }}"
            sizes="(max-width: 768px) 80px, 120px"
            alt="{{ section.settings.logo.alt | default: shop.name }}"
            loading="eager"
            class="h-10 w-auto"
            width="120"
            height="{{ 120 | divided_by: section.settings.logo.aspect_ratio | round }}"
          >
        {% else %}
          <span class="text-lg sm:text-xl lg:text-2xl font-light text-white tracking-tight" style="text-shadow: 0 1px 3px rgba(0,0,0,0.5);">
            {{ shop.name | downcase }}
          </span>
        {% endif %}
      </a>

      <!-- Mobile/Tablet: Burger Menu for Products -->
      <button 
        class="lg:hidden p-2 -ml-2 mr-4" 
        @click="$store.dispatch('mobile-menu/show')"
        aria-label="Open menu"
      >
        {% render 'icon-menu', class: 'w-5 h-5 text-white' %}
      </button>

      <!-- Desktop Navigation (center-left) -->
      <div class="hidden lg:flex space-x-8 xl:space-x-10 flex-1">
        {% if section.settings.show_killer65_link %}
          <a
            href="/products/killer65"
            class="text-sm font-normal text-white hover:opacity-75 transition duration-200" style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
            {{ 'killer65' | downcase }}
          </a>
        {% endif %}
        {% if section.settings.show_products_link %}
          <a
            href="/collections/all"
            class="text-sm font-normal text-white hover:opacity-75 transition duration-200" style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
            {{ 'products' | downcase }}
          </a>
        {% endif %}
        {% if section.settings.show_support_link %}
          <a
            href="/pages/support"
            class="text-sm font-normal text-white hover:opacity-75 transition duration-200" style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
            {{ 'support' | downcase }}
          </a>
        {% endif %}
      </div>

      <!-- Icons (always on right) -->
      <div class="flex space-x-2 sm:space-x-3 lg:space-x-4 ml-auto">
        <a
          href="{{ routes.search_url }}"
          class="p-2 hover:bg-white/10 rounded-full transition duration-200"
          aria-label="Search"
        >
          {% render 'icon-search', class: 'w-5 h-5 text-white' %}
        </a>

        <a
          href="{{ routes.cart_url }}"
          class="p-2 hover:bg-white/10 rounded-full transition duration-200 relative"
          aria-label="Cart"
        >
          {% render 'icon-cart', class: 'w-5 h-5 text-white' %}

          {% if cart.item_count > 0 %}
            <div class="w-4 h-4 flex justify-center items-center bg-blue-600 text-white text-xs rounded-full absolute -top-1 -right-1">
              {{ cart.item_count }}
            </div>
          {% endif %}
        </a>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.header.name",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "header",
      "content": "Navigation Links"
    },
    {
      "type": "checkbox",
      "id": "show_killer65_link",
      "label": "Show Killer65 link",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_products_link",
      "label": "Show Products link",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_support_link",
      "label": "Show Support link",
      "default": true
    },
    {
      "type": "paragraph",
      "content": "t:sections.header.settings.paragraph"
    }
  ]
}
{% endschema %}