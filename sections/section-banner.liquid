{% assign image = section.settings.image %}

{% assign image_order_md = '' %}
{% assign text_order_md = '' %}
{% if section.settings.text_position == 'left' %}
  {% assign image_order_md = 'lg:order-2' %}
  {% assign text_order_md = 'lg:order-1' %}
{% endif %}

<!-- Apple-style banner section -->
<section class="py-16 sm:py-24 lg:py-32 bg-white">
  <div class="container">
    <div class="grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center">
      <div class="lg:col-span-1 {{ image_order_md }}">
        {% if image %}
          <div class="aspect-square overflow-hidden rounded-3xl bg-gray-100">
            <img
              sizes="
                (min-width: 1024px) 500px,
                (min-width: 768px) 600px,
                100vw
              "
              srcset="
                {{ image | img_url: '400x' }} 400w,
                {{ image | img_url: '600x' }} 600w,
                {{ image | img_url: '800x' }} 800w,
                {{ image | img_url: '1000x' }} 1000w
              "
              src="{{ image | img_url: '800x' }}"
              alt="{{ image.alt }}"
              loading="lazy"
              class="w-full h-full object-cover object-center hover:scale-105 transition-transform duration-700"
            >
          </div>
        {% else %}
          <div class="aspect-square bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center">
            <div class="text-gray-400 text-center">
              <div class="w-16 h-16 mx-auto mb-4 bg-gray-300 rounded-2xl"></div>
              <p class="text-sm">Product Image</p>
            </div>
          </div>
        {% endif %}
      </div>

      <div class="lg:col-span-1 {{ text_order_md }}">
        <div class="max-w-lg">
          <h2 class="text-2xl sm:text-3xl lg:text-4xl font-thin text-gray-900 mb-4 sm:mb-6 tracking-tight">
            {{ section.settings.headline }}
          </h2>

          <p class="text-lg sm:text-xl text-gray-600 mb-6 sm:mb-8 leading-relaxed">
            {{ section.settings.text }}
          </p>

          <a 
            href="{{ section.settings.button-url }}" 
            class="inline-flex items-center justify-center px-8 py-3 bg-blue-600 text-white text-base font-medium rounded-full hover:bg-blue-700 transition-colors duration-200"
          >
            {{ section.settings.button-text }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "t:sections.banner.name",
  "class": "shopify-section-vue",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:common.image"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "t:common.headline",
      "default": "Banner headline"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "t:common.text",
      "default": "Use this text to share information about your brand with your customers. Describe a product, share announcements, or welcome customers to your store."
    },
    {
      "type": "text",
      "id": "button-text",
      "label": "t:common.button_text",
      "default": "Button text"
    },
    {
      "type": "url",
      "id": "button-url",
      "label": "t:common.button_url"
    },
    {
      "type": "select",
      "id": "text_position",
      "label": "Text position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "right"
    },
    {
      "type": "paragraph",
      "content": "t:sections.banner.settings.paragraph"
    }
  ]
}
{% endschema %}